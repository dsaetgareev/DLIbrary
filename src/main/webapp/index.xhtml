<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: dinis
  Date: 25.11.17
  Time: 17:36
-->
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<f:view locale="#{localeController.currentLocale}"/>
<h:head>
    <title>#{msg.welcome_tile}</title>
    <h:outputStylesheet library="css" name="style_index.css"/>
    <h:outputScript library="js" name="library.js" target="head"/>
</h:head>

<h:body>
    <div class="main">

        <div class="content">
            <p class="title"><h:graphicImage library="images" name="lib.png"/></p>
            <p class="title">#{msg.index_title}</p>
            <!--end content-->
        </div>

        <div class="login_div">
            <h:form styleClass="login_form">

                <table align="left" width="350">
                    <tr>
                        <td align="left">#{msg.input_name}</td>
                        <td><h:inputText id="username" value="#{user.name}" rendered="true"
                                         requiredMessage="#{msg.login_required}">
                            <f:validator validatorId="ru.dinis.library.validators.LoginValidator"/>
                            <f:ajax event="keyup" render="loginError"/>
                        </h:inputText> </td>
                    </tr>
                    <tr>
                        <td align="left">#{msg.input_password}</td>
                        <td>
                            <h:inputSecret id="password" value="#{user.password}" rendered="true"
                                         requiredMessage="#{msg.password_required}">
                                <f:validator validatorId="ru.dinis.library.validators.PasswordValidator"/>
                                <f:ajax event="keyup" render="passwordError"/>
                            </h:inputSecret>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                        <h:commandButton action="#{user.login}" value="#{msg.entry}"
                                         styleClass="button" onclick="return checkValue(this.form,
                                         '#{msg.login_required}');"/>
                    </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <p><h:message for="username" id="loginError" styleClass="error"/> </p>
                            <p><h:message for="password" id="passwordError" styleClass="error"/> </p>
                        </td>
                    </tr>
                </table>
            </h:form>

            <ui:include src="templates/locale.xhtml"/>
            <!--end login div-->
        </div>

        <div class="footer">
            #{msg.author_info}
            <!--end footer-->
        </div>
        <!--end main-->
    </div>
</h:body>


</html>